<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מערכת מעקב מכולות</title>
    <!-- Tailwind CSS CDN for utility classes -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="bg-gradient-to-br from-indigo-900 to-purple-900 min-h-screen p-4 font-inter text-gray-100">

    <!-- Header Section -->
    <header class="flex flex-col md:flex-row items-center justify-between p-4 mb-6 bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-2xl shadow-lg border border-white border-opacity-20">
        <div class="flex items-center mb-4 md:mb-0">
            <!-- Logo Placeholder -->
            <div class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center text-white text-lg font-bold mr-3">C</div>
            <h1 class="text-3xl font-bold text-white tracking-wide">לוח מעקב מכולות</h1>
        </div>
        <div class="flex flex-wrap justify-center gap-3">
            <button id="addOrderBtn" class="action-btn bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-xl shadow-md transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105">
                <i class="fas fa-plus ml-2"></i>הוסף הזמנה
            </button>
            <button id="refreshBtn" class="action-btn bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-xl shadow-md transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105">
                <i class="fas fa-sync-alt ml-2"></i>רענן
            </button>
            <button id="toggleClosedBtn" class="action-btn bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-xl shadow-md transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105">
                <i class="fas fa-eye ml-2"></i>הצג סגורות
            </button>
            <button id="containersOnSitesBtn" class="action-btn bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-xl shadow-md transition duration-300 ease-in-out transform hover:-translate-y-1 hover:scale-105">
                <i class="fas fa-map-marker-alt ml-2"></i>מכולות באתרים
            </button>
        </div>
    </header>

    <!-- KPI Cards Section -->
    <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
        <div class="kpi-card">
            <h3 class="text-lg font-medium text-white text-opacity-80">הזמנות פתוחות</h3>
            <p id="kpiOpen" class="text-4xl font-bold text-white mt-2">0</p>
        </div>
        <div class="kpi-card bg-red-600 bg-opacity-30 border-red-500 border-opacity-30">
            <h3 class="text-lg font-medium text-white text-opacity-80">הזמנות חורגות</h3>
            <p id="kpiOverdue" class="text-4xl font-bold text-white mt-2">0</p>
        </div>
        <div class="kpi-card bg-yellow-600 bg-opacity-30 border-yellow-500 border-opacity-30">
            <h3 class="text-lg font-medium text-white text-opacity-80">יסתיימו ב-3 ימים</h3>
            <p id="kpiExpiring" class="text-4xl font-bold text-white mt-2">0</p>
        </div>
        <div class="kpi-card bg-orange-600 bg-opacity-30 border-orange-500 border-opacity-30">
            <h3 class="text-lg font-medium text-white text-opacity-80">כפילויות</h3>
            <p id="kpiDuplicates" class="text-4xl font-bold text-white mt-2">0</p>
        </div>
    </section>

    <!-- Alerts Bar -->
    <div id="alertsBar" class="hidden p-3 mb-6 rounded-lg text-center font-semibold text-sm bg-red-600 bg-opacity-30 border border-red-500 border-opacity-30 transition-all duration-300 ease-in-out">
        <i class="fas fa-exclamation-triangle ml-2"></i>
        <span id="alertsText"></span>
        <button id="viewAlertsBtn" class="text-white underline mr-2 hover:text-gray-200">צפה בפרטים</button>
    </div>

    <!-- Main Table Section -->
    <section class="overflow-x-auto">
        <table id="ordersTable" class="min-w-full rounded-2xl overflow-hidden shadow-lg">
            <thead class="bg-white bg-opacity-15 backdrop-filter backdrop-blur-lg">
                <tr>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">תעודה</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">לקוח</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">כתובת</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">סוג פעולה</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">תאריך התחלה</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">תאריך סיום</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">ימים נותרו</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">מס' מכולה</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">סטטוס</th>
                    <th class="py-3 px-4 text-right text-sm font-semibold text-white text-opacity-90 tracking-wider">פעולות</th>
                </tr>
            </thead>
            <tbody id="ordersTableBody" class="divide-y divide-white divide-opacity-10">
                <!-- Table rows will be inserted here by JavaScript -->
            </tbody>
        </table>
    </section>

    <!-- Generic Popup/Modal Structure -->
    <div id="modalOverlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white bg-opacity-15 backdrop-filter backdrop-blur-xl rounded-2xl shadow-2xl p-6 md:p-8 w-full max-w-lg relative border border-white border-opacity-20 transform scale-95 opacity-0 transition-all duration-300 ease-out">
            <button id="closeModalBtn" class="absolute top-4 right-4 text-white text-2xl hover:text-gray-300 transition duration-200">
                <i class="fas fa-times"></i>
            </button>
            <h2 id="modalTitle" class="text-2xl font-bold text-white mb-4">כותרת חלון קופץ</h2>
            <div id="modalContent" class="text-white text-opacity-80">
                <!-- Dynamic content will be loaded here -->
            </div>
            <div id="modalActions" class="flex justify-end mt-6 gap-3">
                <!-- Dynamic action buttons will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Toast Notifications Container -->
    <div id="toastContainer" class="fixed bottom-4 left-4 z-50 flex flex-col gap-2">
        <!-- Toast messages will appear here -->
    </div>

    <script src="script.js"></script>
</body>
</html>
